'use strict';function a27_0x3d7b(_0x2ceda4,_0x3836fc){const _0x3397dd=a27_0x3397();return a27_0x3d7b=function(_0x3d7be4,_0x50724b){_0x3d7be4=_0x3d7be4-0xdd;let _0x19f983=_0x3397dd[_0x3d7be4];return _0x19f983;},a27_0x3d7b(_0x2ceda4,_0x3836fc);}const a27_0x2a6f77=a27_0x3d7b;(function(_0x1c7345,_0x1178a2){const _0x8e27c2=a27_0x3d7b,_0x3b9960=_0x1c7345();while(!![]){try{const _0x46c924=parseInt(_0x8e27c2(0xe6))/0x1+-parseInt(_0x8e27c2(0xf8))/0x2+parseInt(_0x8e27c2(0xf4))/0x3*(parseInt(_0x8e27c2(0x107))/0x4)+parseInt(_0x8e27c2(0xde))/0x5*(-parseInt(_0x8e27c2(0xfc))/0x6)+parseInt(_0x8e27c2(0x111))/0x7+parseInt(_0x8e27c2(0x10d))/0x8+-parseInt(_0x8e27c2(0xfb))/0x9;if(_0x46c924===_0x1178a2)break;else _0x3b9960['push'](_0x3b9960['shift']());}catch(_0x3ca72d){_0x3b9960['push'](_0x3b9960['shift']());}}}(a27_0x3397,0x48523));Object['defineProperty'](exports,a27_0x2a6f77(0xea),{'value':!![]});function a27_0x3397(){const _0x4245d6=['slice','readList','map','LIST_EMPTY','65pstyWY','invalid\x20string\x20with\x20tag:\x20','next','invalid\x20double\x20token\x20index:\x20','unknown\x20tag:\x20','readInt20','isListTag','BINARY_8','288242sWchNH','message','DICTIONARY_0','unpackHex','__esModule','fromCharCode','readNode','utf-8','invalid\x20tag\x20for\x20list\x20size:\x20','NIBBLE_8','readRangedVarInt','LIST_8','DICTIONARY_3','unexpected\x20stream\x20end','24UZpToF','decode','charCodeAt','readAttributes','823976XjPCFQ','unknown','index','3071394zXnFRz','63192qxvUDv','Tags','SingleByteTokens','HEX_8','DICTIONARY_2','checkEOS','readByte','readString','length','readListSize','isBuffer','82504BvwFkz','unpackByte','invalid\x20hex:\x20','DoubleByteTokens','BINARY_20','readInt','3587848TVSSDp','default','getTokenDouble','readBytes','1992662OMhmsd','unpackNibble','invalid\x20jid\x20pair:\x20','LIST_16','string','WTF;\x20should\x20not\x20be\x20called','toString','invalid\x20nibble:\x20','readStringFromChars','STREAM_END','buffer'];a27_0x3397=function(){return _0x4245d6;};return a27_0x3397();}const vars_1=require('./vars');class Decoder{constructor(){const _0x3baa03=a27_0x2a6f77;this[_0x3baa03(0x11b)]=null,this[_0x3baa03(0xfa)]=0x0;}[a27_0x2a6f77(0x101)](_0x272695){const _0xa5fba6=a27_0x2a6f77;if(this['index']+_0x272695>this[_0xa5fba6(0x11b)]['length'])throw new Error('end\x20of\x20stream');}[a27_0x2a6f77(0xe0)](){const _0x38c8af=a27_0x2a6f77,_0x2539d4=this[_0x38c8af(0x11b)][this[_0x38c8af(0xfa)]];return this[_0x38c8af(0xfa)]+=0x1,_0x2539d4;}[a27_0x2a6f77(0x102)](){const _0x2eaa73=a27_0x2a6f77;return this[_0x2eaa73(0x101)](0x1),this['next']();}[a27_0x2a6f77(0x119)](_0xfd0737){const _0x582a5b=a27_0x2a6f77;this[_0x582a5b(0x101)](_0xfd0737);const _0x2d645b=this[_0x582a5b(0x11b)][_0x582a5b(0x11c)](this[_0x582a5b(0xfa)],this['index']+_0xfd0737);return this[_0x582a5b(0xfa)]+=_0xfd0737,_0x2d645b[_0x582a5b(0x117)](_0x582a5b(0xed));}[a27_0x2a6f77(0x110)](_0xc6323){const _0x1b81b1=a27_0x2a6f77;this[_0x1b81b1(0x101)](_0xc6323);const _0x419f9c=this[_0x1b81b1(0x11b)][_0x1b81b1(0x11c)](this[_0x1b81b1(0xfa)],this[_0x1b81b1(0xfa)]+_0xc6323);return this[_0x1b81b1(0xfa)]+=_0xc6323,_0x419f9c;}[a27_0x2a6f77(0x10c)](_0x594fbc,_0x6c8c71=![]){const _0xd7efc6=a27_0x2a6f77;this['checkEOS'](_0x594fbc);let _0x5bee1a=0x0;for(let _0x1c1106=0x0;_0x1c1106<_0x594fbc;_0x1c1106++){const _0x329bd0=_0x6c8c71?_0x1c1106:_0x594fbc-0x1-_0x1c1106;_0x5bee1a|=this[_0xd7efc6(0xe0)]()<<_0x329bd0*0x8;}return _0x5bee1a;}[a27_0x2a6f77(0xe3)](){const _0x541360=a27_0x2a6f77;return this[_0x541360(0x101)](0x3),((this[_0x541360(0xe0)]()&0xf)<<0x10)+(this[_0x541360(0xe0)]()<<0x8)+this['next']();}[a27_0x2a6f77(0xe9)](_0x425461){const _0x1e38fa=a27_0x2a6f77;if(_0x425461>=0x0&&_0x425461<0x10)return _0x425461<0xa?'0'['charCodeAt'](0x0)+_0x425461:'A'['charCodeAt'](0x0)+_0x425461-0xa;throw new Error(_0x1e38fa(0x109)+_0x425461);}[a27_0x2a6f77(0x112)](_0x22b0b9){const _0x5670e9=a27_0x2a6f77;if(_0x22b0b9>=0x0&&_0x22b0b9<=0x9)return'0'['charCodeAt'](0x0)+_0x22b0b9;switch(_0x22b0b9){case 0xa:return'-'[_0x5670e9(0xf6)](0x0);case 0xb:return'.'[_0x5670e9(0xf6)](0x0);case 0xf:return'\x00'['charCodeAt'](0x0);default:throw new Error(_0x5670e9(0x118)+_0x22b0b9);}}[a27_0x2a6f77(0x108)](_0x5547e8,_0x2b8e39){const _0x17c565=a27_0x2a6f77;if(_0x5547e8===vars_1['WA'][_0x17c565(0xfd)][_0x17c565(0xef)])return this[_0x17c565(0x112)](_0x2b8e39);else{if(_0x5547e8===vars_1['WA'][_0x17c565(0xfd)][_0x17c565(0xff)])return this[_0x17c565(0xe9)](_0x2b8e39);else throw new Error(_0x17c565(0xe2)+_0x5547e8);}}['readPacked8'](_0x5df6bf){const _0x3b36d7=a27_0x2a6f77,_0xb5a740=this[_0x3b36d7(0x102)]();let _0x2a6b17='';for(let _0x19e8dc=0x0;_0x19e8dc<(_0xb5a740&0x7f);_0x19e8dc++){const _0x2ee1ea=this['readByte']();_0x2a6b17+=String[_0x3b36d7(0xeb)](this[_0x3b36d7(0x108)](_0x5df6bf,(_0x2ee1ea&0xf0)>>0x4)),_0x2a6b17+=String[_0x3b36d7(0xeb)](this[_0x3b36d7(0x108)](_0x5df6bf,_0x2ee1ea&0xf));}return _0xb5a740>>0x7!==0x0&&(_0x2a6b17=_0x2a6b17['slice'](0x0,-0x1)),_0x2a6b17;}[a27_0x2a6f77(0xf0)](_0x3edbc3,_0x4280be,_0x35848e=a27_0x2a6f77(0xf9)){const _0x43ab0f=a27_0x2a6f77;throw new Error(_0x43ab0f(0x116));}[a27_0x2a6f77(0xe4)](_0x42a35e){const _0x294c46=a27_0x2a6f77;return _0x42a35e===vars_1['WA'][_0x294c46(0xfd)][_0x294c46(0xdd)]||_0x42a35e===vars_1['WA'][_0x294c46(0xfd)][_0x294c46(0xf1)]||_0x42a35e===vars_1['WA']['Tags'][_0x294c46(0x114)];}[a27_0x2a6f77(0x105)](_0x50f7a2){const _0x27d1b6=a27_0x2a6f77;switch(_0x50f7a2){case vars_1['WA'][_0x27d1b6(0xfd)][_0x27d1b6(0xdd)]:return 0x0;case vars_1['WA'][_0x27d1b6(0xfd)][_0x27d1b6(0xf1)]:return this[_0x27d1b6(0x102)]();case vars_1['WA']['Tags']['LIST_16']:return this['readInt'](0x2);default:throw new Error(_0x27d1b6(0xee)+_0x50f7a2);}}['readString'](_0x53407a){const _0x4b0f0a=a27_0x2a6f77;if(_0x53407a>=0x3&&_0x53407a<=0xeb){const _0x45b934=this['getToken'](_0x53407a);return _0x45b934;}switch(_0x53407a){case vars_1['WA']['Tags'][_0x4b0f0a(0xe8)]:case vars_1['WA'][_0x4b0f0a(0xfd)]['DICTIONARY_1']:case vars_1['WA']['Tags'][_0x4b0f0a(0x100)]:case vars_1['WA'][_0x4b0f0a(0xfd)][_0x4b0f0a(0xf2)]:return this[_0x4b0f0a(0x10f)](_0x53407a-vars_1['WA'][_0x4b0f0a(0xfd)]['DICTIONARY_0'],this[_0x4b0f0a(0x102)]());case vars_1['WA'][_0x4b0f0a(0xfd)][_0x4b0f0a(0xdd)]:return null;case vars_1['WA'][_0x4b0f0a(0xfd)][_0x4b0f0a(0xe5)]:return this[_0x4b0f0a(0x119)](this['readByte']());case vars_1['WA'][_0x4b0f0a(0xfd)][_0x4b0f0a(0x10b)]:return this[_0x4b0f0a(0x119)](this[_0x4b0f0a(0xe3)]());case vars_1['WA'][_0x4b0f0a(0xfd)]['BINARY_32']:return this[_0x4b0f0a(0x119)](this['readInt'](0x4));case vars_1['WA'][_0x4b0f0a(0xfd)]['JID_PAIR']:const _0x9cdab8=this[_0x4b0f0a(0x103)](this['readByte']()),_0x49b253=this[_0x4b0f0a(0x103)](this['readByte']());if(typeof _0x9cdab8===_0x4b0f0a(0x115)&&_0x49b253)return _0x9cdab8+'@'+_0x49b253;throw new Error(_0x4b0f0a(0x113)+_0x9cdab8+',\x20'+_0x49b253);case vars_1['WA']['Tags'][_0x4b0f0a(0xff)]:case vars_1['WA'][_0x4b0f0a(0xfd)][_0x4b0f0a(0xef)]:return this['readPacked8'](_0x53407a);default:throw new Error(_0x4b0f0a(0xdf)+_0x53407a);}}['readAttributes'](_0x3c710a){const _0xcfef1d=a27_0x2a6f77;if(_0x3c710a!==0x0){const _0x954f8f={};for(let _0x171e06=0x0;_0x171e06<_0x3c710a;_0x171e06++){const _0x1262ab=this['readString'](this[_0xcfef1d(0x102)]()),_0x4950d5=this[_0xcfef1d(0x102)]();_0x954f8f[_0x1262ab]=this['readString'](_0x4950d5);}return _0x954f8f;}return null;}[a27_0x2a6f77(0x11d)](_0x573874){const _0xea29cc=a27_0x2a6f77,_0x364221=[...new Array(this[_0xea29cc(0x105)](_0x573874))];return _0x364221[_0xea29cc(0x11e)](()=>this[_0xea29cc(0xec)]());}['getToken'](_0x1a43dd){const _0x770f36=a27_0x2a6f77;if(_0x1a43dd<0x3||_0x1a43dd>=vars_1['WA'][_0x770f36(0xfe)][_0x770f36(0x104)])throw new Error('invalid\x20token\x20index:\x20'+_0x1a43dd);return vars_1['WA'][_0x770f36(0xfe)][_0x1a43dd];}['getTokenDouble'](_0x14c93c,_0x3456a6){const _0x4065d5=a27_0x2a6f77,_0x5f1f92=0x100*_0x14c93c+_0x3456a6;if(_0x5f1f92<0x0||_0x5f1f92>vars_1['WA'][_0x4065d5(0x10a)]['length'])throw new Error(_0x4065d5(0xe1)+_0x5f1f92);return vars_1['WA'][_0x4065d5(0x10a)][_0x5f1f92];}['readNode'](){const _0x342d68=a27_0x2a6f77,_0xa6557b=this['readListSize'](this[_0x342d68(0x102)]()),_0x2d6394=this[_0x342d68(0x102)]();if(_0x2d6394===vars_1['WA'][_0x342d68(0xfd)][_0x342d68(0x11a)])throw new Error(_0x342d68(0xf3));const _0x8377b8=this[_0x342d68(0x103)](_0x2d6394);if(_0xa6557b===0x0||!_0x8377b8)throw new Error('invalid\x20node');const _0xc8b141=this[_0x342d68(0xf7)](_0xa6557b-0x1>>0x1);let _0x1125e1=null;if(_0xa6557b%0x2===0x0){const _0x21f629=this[_0x342d68(0x102)]();if(this[_0x342d68(0xe4)](_0x21f629))_0x1125e1=this[_0x342d68(0x11d)](_0x21f629);else{let _0x520200;switch(_0x21f629){case vars_1['WA'][_0x342d68(0xfd)][_0x342d68(0xe5)]:_0x520200=this[_0x342d68(0x110)](this['readByte']());break;case vars_1['WA']['Tags'][_0x342d68(0x10b)]:_0x520200=this[_0x342d68(0x110)](this[_0x342d68(0xe3)]());break;case vars_1['WA'][_0x342d68(0xfd)]['BINARY_32']:_0x520200=this[_0x342d68(0x110)](this[_0x342d68(0x10c)](0x4));break;default:_0x520200=this[_0x342d68(0x103)](_0x21f629);break;}_0x8377b8===_0x342d68(0xe7)&&Buffer[_0x342d68(0x106)](_0x520200)?_0x1125e1=vars_1['WA']['Message'][_0x342d68(0xf5)](_0x520200):_0x1125e1=_0x520200;}}return[_0x8377b8,_0xc8b141,_0x1125e1];}['read'](_0x467bd4){const _0x15dedc=a27_0x2a6f77;return this[_0x15dedc(0x11b)]=_0x467bd4,this['index']=0x0,this[_0x15dedc(0xec)]();}}exports[a27_0x2a6f77(0x10e)]=Decoder;