'use strict';const a15_0x19c2b1=a15_0x1dec;(function(_0x509154,_0x13ccc4){const _0x4e9833=a15_0x1dec,_0x190cc4=_0x509154();while(!![]){try{const _0x5f2ca8=parseInt(_0x4e9833(0xbb))/0x1*(parseInt(_0x4e9833(0xe0))/0x2)+parseInt(_0x4e9833(0xbc))/0x3*(parseInt(_0x4e9833(0xb3))/0x4)+parseInt(_0x4e9833(0xba))/0x5*(-parseInt(_0x4e9833(0xfd))/0x6)+-parseInt(_0x4e9833(0xb8))/0x7*(-parseInt(_0x4e9833(0x108))/0x8)+parseInt(_0x4e9833(0xd1))/0x9*(-parseInt(_0x4e9833(0xe8))/0xa)+-parseInt(_0x4e9833(0x105))/0xb+parseInt(_0x4e9833(0xd5))/0xc;if(_0x5f2ca8===_0x13ccc4)break;else _0x190cc4['push'](_0x190cc4['shift']());}catch(_0x1d55b6){_0x190cc4['push'](_0x190cc4['shift']());}}}(a15_0x43ae,0x3a216));var __createBinding=this&&this[a15_0x19c2b1(0x100)]||(Object[a15_0x19c2b1(0x109)]?function(_0x151088,_0x392598,_0x51d02e,_0x568421){if(_0x568421===undefined)_0x568421=_0x51d02e;Object['defineProperty'](_0x151088,_0x568421,{'enumerable':!![],'get':function(){return _0x392598[_0x51d02e];}});}:function(_0x4c4c93,_0x106849,_0x50ecb2,_0x272c4a){if(_0x272c4a===undefined)_0x272c4a=_0x50ecb2;_0x4c4c93[_0x272c4a]=_0x106849[_0x50ecb2];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a15_0x19c2b1(0x109)]?function(_0x57eb4f,_0x47e54f){const _0x392076=a15_0x19c2b1;Object[_0x392076(0x11b)](_0x57eb4f,'default',{'enumerable':!![],'value':_0x47e54f});}:function(_0x2e6d58,_0x5aa5ac){const _0x5c0309=a15_0x19c2b1;_0x2e6d58[_0x5c0309(0x11d)]=_0x5aa5ac;}),__importStar=this&&this[a15_0x19c2b1(0xc3)]||function(_0x430638){const _0x553a7d=a15_0x19c2b1;if(_0x430638&&_0x430638['__esModule'])return _0x430638;var _0x1ee6af={};if(_0x430638!=null){for(var _0x482ead in _0x430638)if(_0x482ead!==_0x553a7d(0x11d)&&Object[_0x553a7d(0xd8)][_0x553a7d(0xda)][_0x553a7d(0xb0)](_0x430638,_0x482ead))__createBinding(_0x1ee6af,_0x430638,_0x482ead);}return __setModuleDefault(_0x1ee6af,_0x430638),_0x1ee6af;},__importDefault=this&&this[a15_0x19c2b1(0xf7)]||function(_0x1574b2){return _0x1574b2&&_0x1574b2['__esModule']?_0x1574b2:{'default':_0x1574b2};};Object['defineProperty'](exports,a15_0x19c2b1(0x10e),{'value':!![]}),exports[a15_0x19c2b1(0xc9)]=void 0x0;function a15_0x1dec(_0x1db6ff,_0x23963a){const _0x43ae5b=a15_0x43ae();return a15_0x1dec=function(_0x1decbb,_0x5d589d){_0x1decbb=_0x1decbb-0xae;let _0x406aea=_0x43ae5b[_0x1decbb];return _0x406aea;},a15_0x1dec(_0x1db6ff,_0x23963a);}const Curve=__importStar(require(a15_0x19c2b1(0xeb))),Utils=__importStar(require(a15_0x19c2b1(0x114))),main_1=require(a15_0x19c2b1(0x11a)),fs_1=__importDefault(require('fs')),variables_1=require(a15_0x19c2b1(0xe3));class SuperChats extends main_1[a15_0x19c2b1(0xc9)]{async[a15_0x19c2b1(0xe7)](_0x57b496){const _0x2881a9=a15_0x19c2b1;var _0x565b69,_0xae1a17,_0x5e058a,_0x53f24a,_0x25d3b3,_0x23bf17;!((_0x565b69=this[_0x2881a9(0xb9)])===null||_0x565b69===void 0x0?void 0x0:_0x565b69[_0x2881a9(0x103)])&&(this['authInfo']={'clientID':Utils[_0x2881a9(0xc5)]()});const _0xb2d63=this[_0x2881a9(0xb5)]();this['referenceDate']=new Date(),this[_0x2881a9(0xd6)][_0x2881a9(0x111)]();const _0x514c6a=(async()=>{const _0x163fa1=_0x2881a9;var _0x410c60;const {ref:_0x31c287,ttl:_0x132437}=await this[_0x163fa1(0xd4)]({'json':[_0x163fa1(0x112),_0x163fa1(0x106),this['version'],this[_0x163fa1(0x102)],(_0x410c60=this[_0x163fa1(0xb9)])===null||_0x410c60===void 0x0?void 0x0:_0x410c60[_0x163fa1(0x103)],!![]],'expect200':!![],'waitForOpen':![],'longTag':!![],'requiresPhoneConnection':![],'startDebouncedTimeout':!![]});!_0xb2d63&&(this[_0x163fa1(0xd6)][_0x163fa1(0xea)](),this['generateKeysForAuth'](_0x31c287,_0x132437));})();let _0x28bf12;if(_0xb2d63){const _0x2c0f88=['admin',_0x2881a9(0xc8),(_0xae1a17=this[_0x2881a9(0xb9)])===null||_0xae1a17===void 0x0?void 0x0:_0xae1a17[_0x2881a9(0xf4)],(_0x5e058a=this['authInfo'])===null||_0x5e058a===void 0x0?void 0x0:_0x5e058a[_0x2881a9(0xae)],(_0x53f24a=this['authInfo'])===null||_0x53f24a===void 0x0?void 0x0:_0x53f24a[_0x2881a9(0x103)]];_0x28bf12=this[_0x2881a9(0xd2)](!![]);if(_0x57b496)_0x2c0f88[_0x2881a9(0xb7)](...['reconnect',_0x57b496['replace']('@s.whatsapp.net',_0x2881a9(0xf9))]);else _0x2c0f88[_0x2881a9(0xb7)](_0x2881a9(0xff));const _0x59941d=()=>{const _0x29d46d=_0x2881a9;var _0x58cebe;if(!this[_0x29d46d(0xdd)]||((_0x58cebe=this[_0x29d46d(0xdd)])===null||_0x58cebe===void 0x0?void 0x0:_0x58cebe[_0x29d46d(0xf6)])!==this[_0x29d46d(0xdd)][_0x29d46d(0xf8)]){this[_0x29d46d(0x107)]['warn']('Received\x20login\x20timeout\x20req\x20when\x20WS\x20not\x20open,\x20ignoring...');return;}if(this[_0x29d46d(0xfc)]===_0x29d46d(0xe1)){this['logger']['warn']('Received\x20login\x20timeout\x20req\x20when\x20state=open,\x20ignoring...');return;}this['logger'][_0x29d46d(0xcc)](_0x29d46d(0xdb)),this[_0x29d46d(0xfa)](_0x2c0f88,_0x28bf12),this[_0x29d46d(0xf5)]=setTimeout(_0x59941d,0x2710);};_0x59941d();}await _0x514c6a;let _0x23e058=await Promise[_0x2881a9(0xc4)]([this[_0x2881a9(0x119)]('s1',![],undefined),_0x28bf12&&this[_0x2881a9(0x119)](_0x28bf12,![],undefined)][_0x2881a9(0xe9)](Boolean)),_0x1f2aa8=![];this['connectionDebounceTimeout'][_0x2881a9(0x111)](),this[_0x2881a9(0xf5)]&&clearTimeout(this[_0x2881a9(0xf5)]),this[_0x2881a9(0xf5)]=null;_0x23e058[_0x2881a9(0x118)]&&_0x23e058[_0x2881a9(0x118)]!==0xc8&&(_0x1f2aa8=!![],this['logger'][_0x2881a9(0x115)](_0x2881a9(0xd7)));if(!_0x1f2aa8){((_0x25d3b3=_0x23e058[0x1])===null||_0x25d3b3===void 0x0?void 0x0:_0x25d3b3[_0x2881a9(0xf3)])&&(await this[_0x2881a9(0x10b)](_0x23e058[0x1][_0x2881a9(0xf3)]),_0x23e058=await this[_0x2881a9(0x119)]('s2',!![]));const _0x359c3c=this[_0x2881a9(0x11e)](_0x23e058[0x1]);return _0x359c3c[_0x2881a9(0xb6)][_0x2881a9(0x113)]!==((_0x23bf17=this[_0x2881a9(0xb6)])===null||_0x23bf17===void 0x0?void 0x0:_0x23bf17[_0x2881a9(0x113)])&&(_0x359c3c[_0x2881a9(0xc0)]=!![],this[_0x2881a9(0xed)]['clear'](),this[_0x2881a9(0xfb)]={}),this[_0x2881a9(0xb6)]=_0x359c3c[_0x2881a9(0xb6)],this[_0x2881a9(0x107)][_0x2881a9(0xaf)](_0x2881a9(0xb2)),_0x359c3c;}else{let _0x386b51=_0x2881a9(0xc1)+this[_0x2881a9(0xe5)][_0x2881a9(0xce)]+'.json';setTimeout(async()=>{const _0x503104=_0x2881a9;fs_1['default']['existsSync'](_0x386b51)&&(fs_1[_0x503104(0x11d)][_0x503104(0x10a)](_0x386b51),this[_0x503104(0x107)][_0x503104(0x104)](_0x503104(0xc6)),this[_0x503104(0xb4)]());},0x1388);}}async[a15_0x19c2b1(0xf0)](){const _0x5e79bb=a15_0x19c2b1,_0x2b2341=await this[_0x5e79bb(0xd4)]({'json':[_0x5e79bb(0x112),_0x5e79bb(0x10d),_0x5e79bb(0x11c)],'expect200':!![],'waitForOpen':![],'longTag':!![],'requiresPhoneConnection':![]});return _0x2b2341;}[a15_0x19c2b1(0x11e)](_0x36087d){const _0x4cf15c=a15_0x19c2b1,_0x29a059=()=>({'user':{'jid':Utils[_0x4cf15c(0xbd)](_0x36087d[_0x4cf15c(0x117)]),'name':_0x36087d['pushname'],'phone':_0x36087d[_0x4cf15c(0x10c)],'battery':_0x36087d['battery'],'imgUrl':null},'auth':this[_0x4cf15c(0xb9)]});if(!_0x36087d[_0x4cf15c(0x10f)])return _0x36087d['clientToken']&&_0x36087d['clientToken']!==this['authInfo'][_0x4cf15c(0xf4)]&&(this['authInfo']={...this['authInfo'],'clientToken':_0x36087d['clientToken']}),_0x36087d['serverToken']&&_0x36087d[_0x4cf15c(0xae)]!==this[_0x4cf15c(0xb9)][_0x4cf15c(0xae)]&&(this[_0x4cf15c(0xb9)]={...this[_0x4cf15c(0xb9)],'serverToken':_0x36087d[_0x4cf15c(0xae)]}),_0x29a059();const _0x46073f=Buffer['from'](_0x36087d[_0x4cf15c(0x10f)],_0x4cf15c(0xe6));if(_0x46073f[_0x4cf15c(0xf2)]!==0x90)throw new Error(_0x4cf15c(0xb1)+_0x46073f['length']);const _0x4ed41a=Curve[_0x4cf15c(0xfe)](this[_0x4cf15c(0xd0)][_0x4cf15c(0xdc)],_0x46073f['slice'](0x0,0x20)),_0x593c47=Utils[_0x4cf15c(0x101)](_0x4ed41a,0x50),_0x549788=_0x593c47['slice'](0x20,0x40),_0x5f52c9=Buffer[_0x4cf15c(0xe2)]([_0x46073f[_0x4cf15c(0xf1)](0x0,0x20),_0x46073f[_0x4cf15c(0xf1)](0x40,_0x46073f['length'])]),_0x274c12=Utils[_0x4cf15c(0xcd)](_0x5f52c9,_0x549788);if(!_0x274c12[_0x4cf15c(0xec)](_0x46073f[_0x4cf15c(0xf1)](0x20,0x40)))throw new variables_1[(_0x4cf15c(0xc2))](_0x4cf15c(0xca),_0x36087d);const _0x2bcca0=Buffer['concat']([_0x593c47[_0x4cf15c(0xf1)](0x40,_0x593c47['length']),_0x46073f[_0x4cf15c(0xf1)](0x40,_0x46073f[_0x4cf15c(0xf2)])]),_0x4c48b6=Utils[_0x4cf15c(0xd9)](_0x2bcca0,_0x593c47[_0x4cf15c(0xf1)](0x0,0x20));return this[_0x4cf15c(0xb9)]={'encKey':_0x4c48b6[_0x4cf15c(0xf1)](0x0,0x20),'macKey':_0x4c48b6[_0x4cf15c(0xf1)](0x20,0x40),'clientToken':_0x36087d['clientToken'],'serverToken':_0x36087d[_0x4cf15c(0xae)],'clientID':this['authInfo']['clientID']},_0x29a059();}['respondToChallenge'](_0x58be6e){const _0x5a75ae=a15_0x19c2b1,_0x4ec528=Buffer[_0x5a75ae(0xee)](_0x58be6e,_0x5a75ae(0xe6)),_0x326958=Utils[_0x5a75ae(0xcd)](_0x4ec528,this[_0x5a75ae(0xb9)][_0x5a75ae(0xcf)])[_0x5a75ae(0xdf)]('base64'),_0xe3dbd4=[_0x5a75ae(0x112),_0x5a75ae(0xf3),_0x326958,this[_0x5a75ae(0xb9)][_0x5a75ae(0xae)],this['authInfo'][_0x5a75ae(0x103)]];return this['logger'][_0x5a75ae(0xaf)](_0x5a75ae(0xd3)),this[_0x5a75ae(0xd4)]({'json':_0xe3dbd4,'expect200':!![],'waitForOpen':![],'startDebouncedTimeout':!![]});}[a15_0x19c2b1(0xde)](_0x16f1f0,_0xcb2dfc){const _0xcaabbe=a15_0x19c2b1;this[_0xcaabbe(0xd0)]=Curve[_0xcaabbe(0x110)](Utils['randomBytes'](0x20));const _0x4e28fe=Buffer['from'](this['curveKeys']['public'])[_0xcaabbe(0xdf)]('base64'),_0x2f7766=_0x2fba8a=>{const _0x387b3d=_0xcaabbe,_0x2c06ea=[_0x16f1f0,_0x4e28fe,this[_0x387b3d(0xb9)][_0x387b3d(0x103)]]['join'](',');this[_0x387b3d(0x116)]('qr',_0x2c06ea),this[_0x387b3d(0xf5)]=setTimeout(async()=>{const _0x4ec35a=_0x387b3d;if(this[_0x4ec35a(0xfc)]===_0x4ec35a(0xe1))return;this[_0x4ec35a(0x107)][_0x4ec35a(0xcc)](_0x4ec35a(0xbe));try{const {ref:_0x320083,ttl:_0x405543}=await this[_0x4ec35a(0xf0)]();_0x2fba8a=_0x405543,_0x16f1f0=_0x320083;}catch(_0x5be84b){this[_0x4ec35a(0x107)][_0x4ec35a(0x104)]({'error':_0x5be84b},_0x4ec35a(0xbf)),this[_0x4ec35a(0xe5)][_0x4ec35a(0xef)]=_0x4ec35a(0xc7),this[_0x4ec35a(0x116)]('status-connect',this[_0x4ec35a(0xe5)][_0x4ec35a(0xef)]);if(_0x5be84b[_0x4ec35a(0x118)]===0x1ad&&this['state']!==_0x4ec35a(0xe1)){this[_0x4ec35a(0xcb)](_0x5be84b[_0x4ec35a(0xe4)]);return;}}_0x2f7766(_0x2fba8a);},_0x2fba8a||0x4e20);};_0x2f7766(_0xcb2dfc);}}exports[a15_0x19c2b1(0xc9)]=SuperChats;function a15_0x43ae(){const _0xb88af8=['requestNewQRCodeRef','slice','length','challenge','clientToken','initTimeout','readyState','__importDefault','OPEN','@c.us','sendJSON','contacts','state','66bPjLcq','sharedKey','takeover','__createBinding','hkdf','browserDescription','clientID','warn','2094290TGQbAE','init','logger','54616kwuwCq','create','unlinkSync','respondToChallenge','phone','Conn','__esModule','secret','generateKeyPair','start','admin','jid','./useful','error','emit','wid','status','waitForMessage','./main','defineProperty','reref','default','validateNewConnection','serverToken','info','call','incorrect\x20secret\x20length\x20received:\x20','connection\x20authentication\x20approved','116264zPvdXS','close','canLogin','user','push','217RGINIu','authInfo','199580iPEJUE','17992lLskwp','9pqQFFc','whatsappID','regenerating\x20QR','error\x20in\x20QR\x20gen','isNewUser','./tokens/','Erros','__importStar','race','generateClientID','token\x20removed\x20with\x20success!','qrReadFail','login','SuperChats','HMAC\x20validation\x20failed','endConnection','debug','hmacSign','sessionName','macKey','curveKeys','7191GmvGNC','generateMessageTag','resolving\x20login\x20challenge','query','3517728LoqVXE','connectionDebounceTimeout','Unexpected\x20error\x20in\x20login','prototype','aesDecrypt','hasOwnProperty','sending\x20login\x20request','private','conn','generateKeysForAuth','toString','46WDHBzq','open','concat','./variables','message','connectOptions','base64','authenticate','1730bZZkFb','filter','cancel','curve25519-js','equals','chats','from','statusFind'];a15_0x43ae=function(){return _0xb88af8;};return a15_0x43ae();}