const a53_0x59e271=a53_0x5093;(function(_0x24829e,_0x1f6797){const _0x366907=a53_0x5093,_0x4ec677=_0x24829e();while(!![]){try{const _0x4eba09=-parseInt(_0x366907(0x1e5))/0x1*(-parseInt(_0x366907(0x1d4))/0x2)+-parseInt(_0x366907(0x1db))/0x3*(-parseInt(_0x366907(0x1e8))/0x4)+parseInt(_0x366907(0x1d0))/0x5+-parseInt(_0x366907(0x1cc))/0x6*(-parseInt(_0x366907(0x1e1))/0x7)+parseInt(_0x366907(0x1ce))/0x8*(parseInt(_0x366907(0x1e9))/0x9)+parseInt(_0x366907(0x1d9))/0xa+-parseInt(_0x366907(0x1eb))/0xb;if(_0x4eba09===_0x1f6797)break;else _0x4ec677['push'](_0x4ec677['shift']());}catch(_0x30ee7a){_0x4ec677['push'](_0x4ec677['shift']());}}}(a53_0x24d3,0x74a79));const SenderChainKey=require(a53_0x59e271(0x1e3)),SenderMessageKey=require(a53_0x59e271(0x1e4)),protobufs=require(a53_0x59e271(0x1e6));function a53_0x24d3(){const _0x52b31a=['from','getIteration','shift','iteration','public','12LpZCQE','senderChainKey','408xwYXYz','base64','504140KSmMuX','getSigningKeyPublic','private','getSigningKeyPrivate','49844abKUqF','getSenderChainKey','senderKeyStateStructure','string','senderMessageKeys','9221290ZCKDBC','SenderChainKey','84bVQclP','getSeed','senderSigningKey','hasSenderMessageKey','create','seed','2536107QsgABQ','MAX_MESSAGE_KEYS','./sender_chain_key','./sender_message_key','31IUPXFT','./protobufs','filter','109588OJJVOg','92223uigIRz','length','36652407rYsbtR','senderKeyId','getKeyId','SenderSigningKey'];a53_0x24d3=function(){return _0x52b31a;};return a53_0x24d3();}function a53_0x5093(_0x2ce174,_0x444d8a){const _0x24d3f2=a53_0x24d3();return a53_0x5093=function(_0x50936f,_0x1b0bfe){_0x50936f=_0x50936f-0x1c4;let _0x5654ad=_0x24d3f2[_0x50936f];return _0x5654ad;},a53_0x5093(_0x2ce174,_0x444d8a);}class SenderKeyState{[a53_0x59e271(0x1e2)]=0x7d0;constructor(_0x11515c=null,_0x411733=null,_0x59f0c8=null,_0x125da5=null,_0x3fb0bd=null,_0x16c255=null,_0x1f3592=null){const _0x133c67=a53_0x59e271;if(_0x1f3592)this[_0x133c67(0x1d6)]=_0x1f3592;else{_0x125da5&&(_0x3fb0bd=_0x125da5['public'],_0x16c255=_0x125da5[_0x133c67(0x1d2)]);_0x59f0c8=typeof _0x59f0c8==='string'?Buffer[_0x133c67(0x1c7)](_0x59f0c8,'base64'):_0x59f0c8,this[_0x133c67(0x1d6)]=protobufs['SenderKeyStateStructure'][_0x133c67(0x1df)]();const _0x281f01=protobufs[_0x133c67(0x1da)][_0x133c67(0x1df)]();_0x281f01['iteration']=_0x411733,_0x281f01[_0x133c67(0x1e0)]=_0x59f0c8,this[_0x133c67(0x1d6)][_0x133c67(0x1cd)]=_0x281f01;const _0x2456b4=protobufs[_0x133c67(0x1c6)][_0x133c67(0x1df)]();_0x2456b4[_0x133c67(0x1cb)]=typeof _0x3fb0bd==='string'?Buffer[_0x133c67(0x1c7)](_0x3fb0bd,_0x133c67(0x1cf)):_0x3fb0bd,_0x16c255&&(_0x2456b4[_0x133c67(0x1d2)]=typeof _0x16c255==='string'?Buffer[_0x133c67(0x1c7)](_0x16c255,_0x133c67(0x1cf)):_0x16c255),this[_0x133c67(0x1d6)][_0x133c67(0x1c4)]=_0x11515c,this[_0x133c67(0x1cd)]=_0x281f01,this[_0x133c67(0x1d6)][_0x133c67(0x1dd)]=_0x2456b4;}this[_0x133c67(0x1d6)][_0x133c67(0x1d8)]=this['senderKeyStateStructure']['senderMessageKeys']||[];}['SenderKeyState'](_0x57e035){this['senderKeyStateStructure']=_0x57e035;}[a53_0x59e271(0x1c5)](){const _0x533041=a53_0x59e271;return this[_0x533041(0x1d6)][_0x533041(0x1c4)];}[a53_0x59e271(0x1d5)](){const _0x5b711c=a53_0x59e271;return new SenderChainKey(this[_0x5b711c(0x1d6)][_0x5b711c(0x1cd)]['iteration'],this[_0x5b711c(0x1d6)][_0x5b711c(0x1cd)]['seed']);}['setSenderChainKey'](_0xdd9c4e){const _0x4448a8=a53_0x59e271,_0x5c3763=protobufs[_0x4448a8(0x1da)]['create']({'iteration':_0xdd9c4e[_0x4448a8(0x1c8)](),'seed':_0xdd9c4e['getSeed']()});this[_0x4448a8(0x1d6)]['senderChainKey']=_0x5c3763;}[a53_0x59e271(0x1d1)](){const _0x47efda=a53_0x59e271;return typeof this['senderKeyStateStructure'][_0x47efda(0x1dd)][_0x47efda(0x1cb)]===_0x47efda(0x1d7)?Buffer[_0x47efda(0x1c7)](this['senderKeyStateStructure']['senderSigningKey'][_0x47efda(0x1cb)],_0x47efda(0x1cf)):this[_0x47efda(0x1d6)]['senderSigningKey']['public'];}[a53_0x59e271(0x1d3)](){const _0x4e8cf9=a53_0x59e271;return typeof this[_0x4e8cf9(0x1d6)][_0x4e8cf9(0x1dd)][_0x4e8cf9(0x1d2)]===_0x4e8cf9(0x1d7)?Buffer[_0x4e8cf9(0x1c7)](this[_0x4e8cf9(0x1d6)]['senderSigningKey'][_0x4e8cf9(0x1d2)],_0x4e8cf9(0x1cf)):this[_0x4e8cf9(0x1d6)][_0x4e8cf9(0x1dd)][_0x4e8cf9(0x1d2)];}[a53_0x59e271(0x1de)](_0x3da90a){const _0x18a037=a53_0x59e271,_0x235d80=this[_0x18a037(0x1d6)]['senderMessageKeys'];for(let _0x495779=0x0;_0x495779<_0x235d80[_0x18a037(0x1ea)];_0x495779++){const _0x1d9fde=_0x235d80[_0x495779];if(_0x1d9fde[_0x18a037(0x1ca)]===_0x3da90a)return!![];}return![];}['addSenderMessageKey'](_0x590086){const _0xa4f299=a53_0x59e271,_0x337e87=protobufs['SenderKeyStateStructure'][_0xa4f299(0x1df)]({'iteration':_0x590086['getIteration'](),'seed':_0x590086[_0xa4f299(0x1dc)]()});this[_0xa4f299(0x1d6)]['senderMessageKeys']['push'](_0x337e87),this['senderKeyStateStructure'][_0xa4f299(0x1d8)][_0xa4f299(0x1ea)]>this[_0xa4f299(0x1e2)]&&this[_0xa4f299(0x1d6)][_0xa4f299(0x1d8)][_0xa4f299(0x1c9)]();}['removeSenderMessageKey'](_0x1a048e){const _0x218e35=a53_0x59e271;let _0x10aa0e=null;this[_0x218e35(0x1d6)][_0x218e35(0x1d8)]=this[_0x218e35(0x1d6)][_0x218e35(0x1d8)][_0x218e35(0x1e7)](_0x457f53=>{const _0x10f2a8=_0x218e35;if(_0x457f53['iteration']===_0x1a048e)_0x10aa0e=_0x457f53;return _0x457f53[_0x10f2a8(0x1ca)]!==_0x1a048e;});if(_0x10aa0e!=null)return new SenderMessageKey(_0x10aa0e[_0x218e35(0x1ca)],_0x10aa0e[_0x218e35(0x1e0)]);return null;}['getStructure'](){const _0x1b3c1d=a53_0x59e271;return this[_0x1b3c1d(0x1d6)];}}module['exports']=SenderKeyState;