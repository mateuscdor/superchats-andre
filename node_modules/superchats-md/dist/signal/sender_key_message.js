function a50_0x51e8(){const _0xe81408=['30rCqwtb','libsignal/src/curve','encode','323068YtFmVX','176104WMiDPk','SIGNATURE_LENGTH','length','Invalid\x20signature!','251232sUAbSc','signature','CURRENT_VERSION','base64','1419255OKegXF','./protobufs','getCipherText','serialized','50771uXmRSJ','./ciphertext_message','getType','calculateSignature','getSignature','809604CljzRf','concat','getIteration','create','ciphertext','slice','toJSON','messageVersion','SenderKeyMessage','verifySignature','iteration','keyId','12xyVqcm','from','176020eUyLLw'];a50_0x51e8=function(){return _0xe81408;};return a50_0x51e8();}const a50_0x3715e8=a50_0x27c6;(function(_0x1b1677,_0x5d8f18){const _0x45a06d=a50_0x27c6,_0x360b5d=_0x1b1677();while(!![]){try{const _0x33d92c=parseInt(_0x45a06d(0xd3))/0x1+-parseInt(_0x45a06d(0xd7))/0x2+-parseInt(_0x45a06d(0xd1))/0x3*(parseInt(_0x45a06d(0xb8))/0x4)+parseInt(_0x45a06d(0xbc))/0x5+-parseInt(_0x45a06d(0xd4))/0x6*(-parseInt(_0x45a06d(0xc0))/0x7)+-parseInt(_0x45a06d(0xb4))/0x8+parseInt(_0x45a06d(0xc5))/0x9;if(_0x33d92c===_0x5d8f18)break;else _0x360b5d['push'](_0x360b5d['shift']());}catch(_0x92a891){_0x360b5d['push'](_0x360b5d['shift']());}}}(a50_0x51e8,0x24f11));function a50_0x27c6(_0x5793e9,_0x1e0a72){const _0x51e8a2=a50_0x51e8();return a50_0x27c6=function(_0x27c641,_0x28b497){_0x27c641=_0x27c641-0xb4;let _0x42a91d=_0x51e8a2[_0x27c641];return _0x42a91d;},a50_0x27c6(_0x5793e9,_0x1e0a72);}const CiphertextMessage=require(a50_0x3715e8(0xc1)),curve=require(a50_0x3715e8(0xd5)),protobufs=require(a50_0x3715e8(0xbd));class SenderKeyMessage extends CiphertextMessage{['SIGNATURE_LENGTH']=0x40;constructor(_0x5bc5ad=null,_0x4e77af=null,_0x117166=null,_0x3c1634=null,_0x38c918=null){const _0x432a42=a50_0x3715e8;super();if(_0x38c918){const _0x33c057=_0x38c918[0x0],_0xd87ce5=_0x38c918['slice'](0x1,_0x38c918[_0x432a42(0xb6)]-this[_0x432a42(0xb5)]),_0x28b4a3=_0x38c918[_0x432a42(0xca)](-0x1*this[_0x432a42(0xb5)]),_0x3e0795=protobufs[_0x432a42(0xcd)]['decode'](_0xd87ce5)[_0x432a42(0xcb)]();_0x3e0795[_0x432a42(0xc9)]=Buffer[_0x432a42(0xd2)](_0x3e0795[_0x432a42(0xc9)],_0x432a42(0xbb)),this[_0x432a42(0xbf)]=_0x38c918,this[_0x432a42(0xcc)]=(_0x33c057&0xff)>>0x4,this['keyId']=_0x3e0795['id'],this['iteration']=_0x3e0795[_0x432a42(0xcf)],this[_0x432a42(0xc9)]=_0x3e0795['ciphertext'],this[_0x432a42(0xb9)]=_0x28b4a3;}else{const _0x8833ac=((this[_0x432a42(0xba)]<<0x4|this[_0x432a42(0xba)])&0xff)%0x100;_0x117166=Buffer[_0x432a42(0xd2)](_0x117166);const _0x5baec3=protobufs[_0x432a42(0xcd)][_0x432a42(0xd6)](protobufs['SenderKeyMessage'][_0x432a42(0xc8)]({'id':_0x5bc5ad,'iteration':_0x4e77af,'ciphertext':_0x117166}))['finish'](),_0x38a48d=this[_0x432a42(0xc4)](_0x3c1634,Buffer[_0x432a42(0xc6)]([Buffer[_0x432a42(0xd2)]([_0x8833ac]),_0x5baec3]));this[_0x432a42(0xbf)]=Buffer[_0x432a42(0xc6)]([Buffer['from']([_0x8833ac]),_0x5baec3,Buffer[_0x432a42(0xd2)](_0x38a48d)]),this[_0x432a42(0xcc)]=this[_0x432a42(0xba)],this[_0x432a42(0xd0)]=_0x5bc5ad,this[_0x432a42(0xcf)]=_0x4e77af,this[_0x432a42(0xc9)]=_0x117166,this[_0x432a42(0xb9)]=_0x38a48d;}}['getKeyId'](){const _0x2e347f=a50_0x3715e8;return this[_0x2e347f(0xd0)];}[a50_0x3715e8(0xc7)](){const _0xb01d56=a50_0x3715e8;return this[_0xb01d56(0xcf)];}[a50_0x3715e8(0xbe)](){return this['ciphertext'];}['verifySignature'](_0x1de0f9){const _0x17748f=a50_0x3715e8,_0x1a8fe7=this[_0x17748f(0xbf)][_0x17748f(0xca)](0x0,this[_0x17748f(0xbf)][_0x17748f(0xb6)]-this[_0x17748f(0xb5)]+0x1),_0x1ececa=this[_0x17748f(0xbf)][_0x17748f(0xca)](-0x1*this['SIGNATURE_LENGTH']),_0x482f72=curve[_0x17748f(0xce)](_0x1de0f9,_0x1a8fe7,_0x1ececa);if(!_0x482f72)throw new Error(_0x17748f(0xb7));}[a50_0x3715e8(0xc4)](_0x2ce5c3,_0x2d5771){const _0x13ce0b=a50_0x3715e8,_0x546800=Buffer[_0x13ce0b(0xd2)](curve[_0x13ce0b(0xc3)](_0x2ce5c3,_0x2d5771));return _0x546800;}['serialize'](){return this['serialized'];}[a50_0x3715e8(0xc2)](){return 0x4;}}module['exports']=SenderKeyMessage;